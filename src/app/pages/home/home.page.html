<div class="page-container">

  <app-map [markers]="markers"/>

  <aside [class.page]="!isHomePage()">
    <div class="aside-wrapper" [class.expanded]="searchFocused() && addressList.length > 0">

      <div
        class="search-input-container"
        [hidden]="!isHomePage()"
        [class.expanded]="searchFocused() && addressList.length > 0"
      >
        <div (keydown.escape)="closeSearchPanel()">
          <app-search-address-form [searchIsFocused]="searchFocused()" (addressResult)="getLookupAddress($event)"/>

          @if (searchFocused()) {
            <app-address-list [addressList]="addressList"
                              (selectAddress)="onSelectedAddress($event)"/>
          }
        </div>
      </div>

      <div class="h-100">
        <router-outlet/>
      </div>
    </div>

  </aside>
</div>

